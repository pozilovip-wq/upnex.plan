<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>UPNEX ‚Äî Plan Maker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #e5e7eb;
      display: flex;
      justify-content: center;
      padding: 24px;
    }
    .app {
      max-width: 1200px;
      width: 100%;
      background: #020617;
      border-radius: 18px;
      padding: 20px 18px 28px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.45);
      border: 1px solid #1e293b;
    }
    h1 {
      margin: 0 0 6px;
      font-size: 26px;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }
    .subtitle {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 18px;
    }
    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 18px;
    }
    .tag {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #9ca3af;
    }
    .tag.highlight {
      border-color: #38bdf8;
      color: #e0f2fe;
      background: radial-gradient(circle at top, #0f172a, #020617);
    }

    .grid {
      display: grid;
      gap: 16px;
    }
    @media (min-width: 950px) {
      .grid {
        grid-template-columns: 2.1fr 1.4fr;
        align-items: flex-start;
      }
    }

    .card {
      background: #020617;
      border-radius: 16px;
      border: 1px solid #1f2937;
      padding: 14px 14px 16px;
    }
    .card h2 {
      margin: 0 0 10px;
      font-size: 17px;
    }
    .card small {
      display: block;
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 8px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
    }
    .pill {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: #020617;
      border: 1px solid #1f2937;
      color: #d1d5db;
    }

    .list {
      margin: 0;
      padding-left: 16px;
      font-size: 13px;
      line-height: 1.5;
    }
    .list li {
      margin-bottom: 4px;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
      margin-top: 4px;
    }
    .table th,
    .table td {
      padding: 6px 8px;
      border-bottom: 1px solid #111827;
      text-align: left;
      vertical-align: top;
    }
    .table th {
      font-weight: 600;
      color: #9ca3af;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      background: #0b1120;
      border: 1px solid #1f2937;
      color: #e5e7eb;
    }
    .badge-nur {
      border-color: #22c55e;
      color: #bbf7d0;
    }
    .badge-info {
      border-color: #38bdf8;
      color: #bae6fd;
    }
    .badge-fun {
      border-color: #facc15;
      color: #fef9c3;
    }

    .today-highlight {
      border-color: #38bdf8 !important;
      box-shadow: 0 0 0 1px rgba(56,189,248,0.35);
    }

    .note {
      margin-top: 10px;
      font-size: 11px;
      color: #6b7280;
    }

    /* PLAN MAKER */
    .plan-grid {
      display: grid;
      gap: 16px;
      margin-top: 18px;
    }
    @media (min-width: 950px) {
      .plan-grid {
        grid-template-columns: 1.4fr 2fr;
      }
    }
    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 8px;
    }
    label {
      font-size: 12px;
      color: #9ca3af;
      display: block;
      margin-bottom: 2px;
    }
    input[type="text"],
    input[type="time"],
    select,
    textarea {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      font-size: 13px;
      resize: vertical;
    }
    textarea {
      min-height: 72px;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 13px;
      cursor: pointer;
      background: #38bdf8;
      color: #0f172a;
      font-weight: 600;
    }
    button:disabled {
      opacity: 0.6;
      cursor: default;
    }
    .plan-item {
      padding: 7px 9px;
      border-radius: 12px;
      border: 1px solid #1f2937;
      margin-bottom: 6px;
      font-size: 13px;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: flex-start;
      background: #020617;
    }
    .plan-item-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .plan-label-row {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      font-size: 11px;
    }
    .plan-time {
      font-weight: 600;
    }
    .plan-delete {
      background: transparent;
      border-radius: 999px;
      border: 1px solid #ef4444;
      color: #fecaca;
      padding: 3px 9px;
      font-size: 11px;
    }
    .plan-empty {
      font-size: 12px;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>UPNEX ‚Äî ICHKI KONTENT REJA & PLAN MAKER</h1>
    <div class="subtitle">
      Faqat <b>Oyatillo</b> va <b>Nur</b> uchun ichki sayt. Instagram + Telegram posting jadvali va
      qo‚Äòshimcha kunlik reja yozib borish uchun.
    </div>

    <div class="tag-row">
      <span class="tag highlight">Daily Story: 10 ‚Ä¢ 12 ‚Ä¢ 15 ‚Ä¢ 18</span>
      <span class="tag">Tuesday ‚Äî Nur day</span>
      <span class="tag">Wed & Thu ‚Äî Q&amp;A</span>
      <span class="tag">Friday ‚Äî Only info</span>
      <span class="tag">Sunday ‚Äî Fun / travel</span>
    </div>

    <!-- MAIN SCHEDULE GRID -->
    <div class="grid">
      <!-- LEFT -->
      <div class="card">
        <h2>KUNLIK INSTAGRAM STORY REJASI</h2>
        <small>(Har kuni ‚Äî Monday to Sunday)</small>

        <div class="pill-row">
          <span class="pill">10:00 ‚Äî Good morning story</span>
          <span class="pill">12:00 ‚Äî Telegram story</span>
          <span class="pill">15:00 ‚Äî Study info story</span>
          <span class="pill">18:00 ‚Äî Motivation story</span>
        </div>

        <ul class="list">
          <li><b>10:00 ‚Äî Good Morning</b> ‚Äî ‚ÄúGood morning from UPNeX‚Äù, coffee, office, NYC/Andijon vibe.</li>
          <li><b>12:00 ‚Äî Telegramga yo‚Äònaltirish</b> ‚Äî ‚ÄúBugungi TG postni o‚Äòqing‚Äù, link / username bilan.</li>
          <li><b>15:00 ‚Äî Info (study / visa / scholarship)</b> ‚Äî 3 ta fakt, misollar, tezkor foydali ma‚Äôlumot.</li>
          <li><b>18:00 ‚Äî Motivation</b> ‚Äî NYC hayoting, talabalar hikoyasi, ‚ÄúHar kuni bir qadam‚Äù.</li>
        </ul>

        <hr style="border:0;border-top:1px solid #111827;margin:10px 0;" />

        <h2>HAFTALIK STORY QOIDALARI</h2>
        <ul class="list">
          <li><b>Tuesday ‚Äî NUR DAY</b> ‚Äî Barcha storylar Nur tomonidan <b>UPNeX ofisidan</b> chiqadi (office, students, behind the scenes).</li>
          <li><b>Wednesday & Thursday ‚Äî Q&amp;A</b> ‚Äî Savol-javob box: followers savollari + javoblar (study, visa, scholarship).</li>
          <li><b>Friday ‚Äî Faqat Information</b> ‚Äî Hech qanday motivatsiya emas, faqat info: universitetlar, hujjatlar, visa tips.</li>
          <li><b>Other days</b> ‚Äî Oddiy daily format, lekin xohlasang extra behind the scenes qo‚Äòshish mumkin.</li>
        </ul>

        <div class="note">
          ‚öôÔ∏è Agar asosiy reja o‚Äòzgarsa, shu matnni HTML ichida ozgina tahrirlash kifoya.
        </div>
      </div>

      <!-- RIGHT -->
      <div class="card today-highlight" id="video-card">
        <h2>HAFTALIK VIDEO + TELEGRAM REJASI</h2>
        <small>Instagram feed videolari + Telegram posting</small>

        <table class="table">
          <thead>
            <tr>
              <th>Kun</th>
              <th>Instagram video</th>
              <th>Maxsus belgi</th>
            </tr>
          </thead>
          <tbody>
            <tr data-day="1">
              <td>Dushanba (Mon)</td>
              <td>12:00 ‚Äî <b>Information video</b> (study, visa, scholarship)</td>
              <td><span class="badge badge-info">Info</span></td>
            </tr>
            <tr data-day="2">
              <td>Seshanba (Tue)</td>
              <td>12:00 ‚Äî <b>Nur office video</b> (UPNeX office, students)</td>
              <td><span class="badge badge-nur">Nur day</span></td>
            </tr>
            <tr data-day="3">
              <td>Chorshanba (Wed)</td>
              <td>12:00 ‚Äî <b>Information video</b> (tips, hujjatlar, examples)</td>
              <td><span class="badge badge-info">Info + Q&amp;A story</span></td>
            </tr>
            <tr data-day="4">
              <td>Payshanba (Thu)</td>
              <td>‚Äî (optional video)</td>
              <td><span class="badge badge-info">Q&amp;A story</span></td>
            </tr>
            <tr data-day="5">
              <td>Juma (Fri)</td>
              <td>18:00 ‚Äî <b>Team / strong info video</b></td>
              <td><span class="badge badge-info">Only info stories</span></td>
            </tr>
            <tr data-day="6">
              <td>Shanba (Sat)</td>
              <td>‚Äî (optional)</td>
              <td><span class="badge">Free plan</span></td>
            </tr>
            <tr data-day="0">
              <td>Yakshanba (Sun)</td>
              <td>Any time ‚Äî <b>Fun / travel / entertainment video</b></td>
              <td><span class="badge badge-fun">Fun day</span></td>
            </tr>
          </tbody>
        </table>

        <h2 style="margin-top:16px;">TELEGRAM KUNLIK REJA</h2>
        <ul class="list">
          <li><b>09:00 ‚Äî Good morning</b> ‚Äî Video yoki text: ‚ÄúBugun ham imkoniyatlar kuni‚Äù.</li>
          <li><b>12:00 ‚Äî Info post</b> ‚Äî Universitet / scholarship / visa bo‚Äòyicha asosiy post.</li>
          <li><b>15:00 ‚Äî Video post</b> ‚Äî 12:00 dagi postni tushuntiradigan video (real example bilan).</li>
        </ul>

        <div class="note" id="today-note"></div>
      </div>
    </div>

    <!-- WEEKLY WORK TARGETS -->
    <div class="card" style="margin-top:18px;">
      <h2>UPNEX ‚Äî HAFTALIK ISH MAQSADLARI</h2>
      <small>(Client, marketing, application, Zoom)</small>
      <ul class="list">
        <li><b>Client maqsad:</b> haftasiga <b>6 ta pullik client</b> (vaziyatga qarab taqsimlanadi: Oyatillo / Nur).</li>
        <li><b>Marketing:</b>
          <ul class="list">
            <li>Instagram ‚Äî har kuni stories + reja bo‚Äòyicha feed videolar.</li>
            <li>Telegram ‚Äî kuniga 3 ta post (09:00, 12:00, 15:00).</li>
            <li>Kamida 1‚Äì2 ta reel‚Äôni reklama qilish (boost).</li>
          </ul>
        </li>
        <li><b>Student application:</b>
          <ul class="list">
            <li>Haftada kamida <b>3‚Äì5 ta application</b>ni to‚Äòliq tugatish.</li>
            <li>Transcript, passport, CV, essaylarni tekshirish.</li>
            <li>Visa uchun hujjatlar ro‚Äòyxatini tayyorlab borish.</li>
          </ul>
        </li>
        <li><b>Zoom / Live:</b>
          <ul class="list">
            <li>Haftada kamida <b>1‚Äì2 ta Zoom meeting</b> (F-1 visa, USA‚Äôda o‚Äòqish, IELTSsiz imkoniyatlar).</li>
            <li>Meetingdan keyin Telegram/Instagram‚Äôda qisqa xulosa post.</li>
          </ul>
        </li>
        <li><b>Follow-up:</b>
          <ul class="list">
            <li>Har kuni ‚Äî DM va WhatsApp‚Äôdagi lead‚Äôlarni javobsiz qoldirmaslik.</li>
            <li>‚ÄúSiz hali o‚Äòylab ko‚Äòrdingizmi?‚Äù tipidagi follow-up xabarlar.</li>
          </ul>
        </li>
      </ul>
      <div class="note">
        üìù Bu raqamlarni har hafta o‚Äòzgartirsa bo‚Äòladi ‚Äî HTML matnini tahrirlab qo‚Äòysang kifoya.
      </div>
    </div>

    <!-- PLAN MAKER SECTION -->
    <div class="plan-grid">
      <!-- FORM -->
      <div class="card">
        <h2>Custom Plan Maker</h2>
        <small>Bugungi yoki boshqa kun uchun qo‚Äòshimcha rejalarni yozib borish.</small>

        <div class="form-row">
          <div style="flex:1 1 120px;">
            <label for="plan-day">Kun</label>
            <select id="plan-day">
              <option value="1">Dushanba (Mon)</option>
              <option value="2">Seshanba (Tue)</option>
              <option value="3">Chorshanba (Wed)</option>
              <option value="4">Payshanba (Thu)</option>
              <option value="5">Juma (Fri)</option>
              <option value="6">Shanba (Sat)</option>
              <option value="0">Yakshanba (Sun)</option>
            </select>
          </div>
          <div style="flex:1 1 140px;">
            <label for="plan-type">Platforma / tur</label>
            <select id="plan-type">
              <option>Instagram Story</option>
              <option>Instagram Video</option>
              <option>Telegram</option>
              <option>Zoom / Meeting</option>
              <option>Client work</option>
              <option>Boshqa</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div style="flex:1 1 100px;">
            <label for="plan-time">Vaqt</label>
            <input id="plan-time" type="time" />
          </div>
          <div style="flex:3 1 180px;">
            <label for="plan-text">Vazifa / reja matni</label>
            <textarea id="plan-text" placeholder="Masalan: 'Nur bilan 3 ta yangi client bilan gaplashish'"></textarea>
          </div>
        </div>

        <button id="add-plan-btn">Rejani qo‚Äòshish</button>
        <div class="note">
          üîÅ Hammasi avtomatik <b>browser localStorage</b> ga yoziladi. Sahifani yopib ochsang ham rejalar qoladi.
        </div>
      </div>

      <!-- LIST -->
      <div class="card">
        <h2>Rejalar ro‚Äòyxati</h2>
        <small>Kun bo‚Äòyicha ko‚Äòrish va o‚Äòchirish.</small>

        <div class="form-row">
          <div style="flex:1 1 140px;">
            <label for="view-day">Qaysi kunni ko‚Äòramiz?</label>
            <select id="view-day">
              <option value="today">Bugungi kun</option>
              <option value="1">Dushanba (Mon)</option>
              <option value="2">Seshanba (Tue)</option>
              <option value="3">Chorshanba (Wed)</option>
              <option value="4">Payshanba (Thu)</option>
              <option value="5">Juma (Fri)</option>
              <option value="6">Shanba (Sat)</option>
              <option value="0">Yakshanba (Sun)</option>
              <option value="all">Barcha kunlar</option>
            </select>
          </div>
        </div>

        <div id="plan-list"></div>
      </div>
    </div>
  </div>

  <script>
    // ===== TODAY HIGHLIGHT FOR TABLE =====
    (function () {
      const today = new Date().getDay(); // 0 = Sun, 1 = Mon ...
      const rows = document.querySelectorAll("[data-day]");
      rows.forEach(row => {
        if (parseInt(row.getAttribute("data-day"), 10) === today) {
          row.classList.add("today-highlight");
        }
      });

      const note = document.getElementById("today-note");
      const names = ["Yakshanba", "Dushanba", "Seshanba", "Chorshanba", "Payshanba", "Juma", "Shanba"];
      if (note) {
        note.textContent = "Bugun: " + names[today] + ". Shunga qarab reja bo‚Äòyicha post qilamiz.";
      }

      // default values in form/view
      const planDaySelect = document.getElementById("plan-day");
      const viewDaySelect = document.getElementById("view-day");
      if (planDaySelect) planDaySelect.value = String(today);
      if (viewDaySelect) viewDaySelect.value = "today";
    })();

    // ===== PLAN MAKER LOGIC (localStorage) =====
    (function () {
      const STORAGE_KEY = "upnex-plan-items-v1";

      /** @type {{id:string, day:number, type:string, time:string, text:string, created:number}[]} */
      let plans = [];

      function loadPlans() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return;
          const parsed = JSON.parse(raw);
          if (Array.isArray(parsed)) plans = parsed;
        } catch (e) {
          console.error("Failed to load plans", e);
        }
      }

      function savePlans() {
        try {
          localStorage.setItem(STORAGE_KEY, JSON.stringify(plans));
        } catch (e) {
          console.error("Failed to save plans", e);
        }
      }

      function createId() {
        return Date.now().toString(36) + Math.random().toString(36).slice(2, 8);
      }

      function formatDay(day) {
        const map = {
          0: "Yakshanba",
          1: "Dushanba",
          2: "Seshanba",
          3: "Chorshanba",
          4: "Payshanba",
          5: "Juma",
          6: "Shanba"
        };
        return map[day] || "";
      }

      function formatTime(t) {
        if (!t) return "";
        return t.slice(0, 5); // HH:MM
      }

      const planDay = document.getElementById("plan-day");
      const planType = document.getElementById("plan-type");
      const planTime = document.getElementById("plan-time");
      const planText = document.getElementById("plan-text");
      const addBtn = document.getElementById("add-plan-btn");
      const viewDay = document.getElementById("view-day");
      const planList = document.getElementById("plan-list");

      function render() {
        if (!planList) return;
        planList.innerHTML = "";

        let filterMode = viewDay.value;
        const today = new Date().getDay();

        let filtered = plans.slice().sort((a, b) => {
          if (a.day !== b.day) return a.day - b.day;
          return (a.time || "").localeCompare(b.time || "");
        });

        if (filterMode === "today") {
          filtered = filtered.filter(p => p.day === today);
        } else if (filterMode !== "all") {
          const d = Number(filterMode);
          filtered = filtered.filter(p => p.day === d);
        }

        if (!filtered.length) {
          const empty = document.createElement("div");
          empty.className = "plan-empty";
          empty.textContent = "Hali reja qo‚Äòshilmagan.";
          planList.appendChild(empty);
          return;
        }

        filtered.forEach(plan => {
          const item = document.createElement("div");
          item.className = "plan-item";

          const main = document.createElement("div");
          main.className = "plan-item-main";

          const topRow = document.createElement("div");
          topRow.className = "plan-label-row";

          const daySpan = document.createElement("span");
          daySpan.textContent = formatDay(plan.day);
          daySpan.className = "badge";

          const typeSpan = document.createElement("span");
          typeSpan.textContent = plan.type;
          typeSpan.className = "badge";

          topRow.appendChild(daySpan);
          topRow.appendChild(typeSpan);

          const timeSpan = document.createElement("div");
          timeSpan.className = "plan-time";
          timeSpan.textContent = formatTime(plan.time) || "Vaqt belgilanmagan";

          const textDiv = document.createElement("div");
          textDiv.textContent = plan.text;

          main.appendChild(topRow);
          main.appendChild(timeSpan);
          main.appendChild(textDiv);

          const delBtn = document.createElement("button");
          delBtn.className = "plan-delete";
          delBtn.textContent = "O‚Äòchirish";
          delBtn.addEventListener("click", () => {
            plans = plans.filter(p => p.id !== plan.id);
            savePlans();
            render();
          });

          item.appendChild(main);
          item.appendChild(delBtn);
          planList.appendChild(item);
        });
      }

      if (addBtn) {
        addBtn.addEventListener("click", () => {
          const day = Number(planDay.value);
          const type = planType.value.trim();
          const time = planTime.value;
          const text = planText.value.trim();

          if (!text) {
            alert("Reja matnini yozing.");
            return;
          }

          plans.push({
            id: createId(),
            day,
            type,
            time,
            text,
            created: Date.now()
          });
          savePlans();
          planText.value = "";
          render();
        });
      }

      if (viewDay) {
        viewDay.addEventListener("change", render);
      }

      // initial load
      loadPlans();
      render();
    })();
  </script>
</body>
</html>
